name: 'Cache node_modules With Runner Environment Version'
description: 'Cache node_modules with runner OS and NodeJS version'
runs:
  using: 'composite'
  steps:
    - uses: "./.github/actions/get_runner_env_version"
      id: get-runner-env-version

    - uses: actions/cache@v2
      id: yarn-cache
      with:
        path: "**/node_modules/"
        key: ${{ steps.get-runner-env-version.outputs.os }}-node${{ steps.get-runner-env-version.outputs.node }}-yarn-${{ hashFiles('yarn.lock') }}

